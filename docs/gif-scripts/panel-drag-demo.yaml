# GIF Script: Panel Drag Demo
# Shows dragging a panel in the layout editor and snapping to grid
name: "Panel Drag Demo"
description: "Demonstrates dragging panels in the layout editor with snap-to-grid"
version: 1

settings:
  output: "docs/images/panel-drag-demo.gif"
  width: 800
  height: 500
  fps: 15
  quality: high

# Ensure services are running
setup:
  - description: "Start dashboard services"
    command: "cd dashboard && docker compose up -d"
    wait: 5000

actions:
  # Start at main dashboard
  - type: navigate
    url: "http://localhost:5174"
    description: "Open dashboard"

  - type: wait
    duration: 1500
    description: "Wait for layout to load"

  # Enter edit mode
  - type: click
    selector: "[data-testid='edit-mode-toggle']"
    description: "Enter edit mode"

  - type: wait
    duration: 800
    description: "Wait for edit mode UI"

  # Perform drag operation
  - type: drag
    from:
      selector: "[data-panel-id]"
      description: "A panel"
    to:
      offset: { x: 150, y: 100 }
      description: "New grid position"
    duration: 1000
    description: "Drag panel to new position"

  - type: wait
    duration: 600
    description: "Show snap animation"

  # Optional: drag another panel
  - type: drag
    from:
      selector: "[data-panel-id]:nth-child(2)"
      description: "Second panel"
    to:
      offset: { x: -100, y: 50 }
      description: "Another position"
    duration: 800

  - type: wait
    duration: 500

  # Save layout
  - type: click
    selector: "[data-testid='save-layout']"
    description: "Save layout changes"

  - type: wait
    duration: 800
    description: "Show save confirmation"
