# TapTap-MQTT Configuration Template
# Copy this file to config-primary.ini or config-secondary.ini and fill in values
# IMPORTANT: Set file permissions to 600 (chmod 600 config-*.ini)
#
# NOTE: All section names and keys must be UPPERCASE

[MQTT]
SERVER = 192.168.1.100
PORT = 1883
USER = YOUR_MQTT_USERNAME
PASS = YOUR_MQTT_PASSWORD
QOS = 1
TIMEOUT = 30

[TAPTAP]
LOG_LEVEL = info
BINARY = /usr/local/bin/taptap
SERIAL = /dev/ttyUSB0
# WORKAROUND: ADDRESS must be present (even empty) due to taptap-mqtt.py validation bug
ADDRESS =
PORT = 502
# Module definitions: STRING:LABEL:SERIAL (comma-separated, single line)
# Example: A:01:4-C3F23CR,A:02:4-C3F2ACK,A:03:4-C3F282R
MODULES = REPLACE_WITH_MODULE_DEFINITIONS
TOPIC_PREFIX = taptap
# Set to 'primary' or 'secondary' depending on which CCA this config is for
TOPIC_NAME = primary
TIMEOUT = 300
UPDATE = 60
STATE_FILE = /data/taptap.state

[HA]
DISCOVERY_PREFIX = homeassistant
DISCOVERY_LEGACY = false
BIRTH_TOPIC = homeassistant/status
NODES_AVAILABILITY_ONLINE = true
NODES_AVAILABILITY_IDENTIFIED = true
STRINGS_AVAILABILITY_ONLINE = true
STRINGS_AVAILABILITY_IDENTIFIED = true
STATS_AVAILABILITY_ONLINE = true
STATS_AVAILABILITY_IDENTIFIED = true
# Recorder settings control Home Assistant long-term statistics
# Valid values: 'energy' (cumulative), 'energy_daily' (daily totals), or empty (disabled)
NODES_SENSORS_RECORDER = energy
STRINGS_SENSORS_RECORDER = energy_daily
STATS_SENSORS_RECORDER = energy_daily

[RUNTIME]
MAX_ERROR = 15
RUN_FILE = /run/taptap/taptap.run
